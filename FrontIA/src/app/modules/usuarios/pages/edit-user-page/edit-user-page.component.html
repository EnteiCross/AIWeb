<section class="px-2 d-flex mt-3">
    <h1 class="me-auto">
        Modificar Usuario
    </h1>
</section>

<section class="container form-bg  mt-3 py-4" >
    <form [formGroup]="userForm" (ngSubmit)="onSubmit()" novalidate>
        <div class="row justify-content-center mb-3">
            <label for="number-field" class="col-3 col-form-label text-end text-white">Número de empleado</label>
            <div class="col-4">
              <input formControlName="usernumber" type="text" class="form-control" id="number-field">
              <span class="ps-2" *ngIf="isValidField('usernumber')">
                Número de empleado invalido
              </span>
            </div>
        </div>
        <div class="row justify-content-center mb-3">
            <label for="name-field" class="col-3 col-form-label text-end text-white">Nombre</label>
            <div class="col-4">
              <input formControlName="username" type="text" class="form-control" id="name-field">
              <span class="ps-2" *ngIf="isValidField('username')">
                Nombre invalido
              </span>
            </div>
        </div>
        <div class="row justify-content-center mb-3">
            <label for="type-field" class="col-3 col-form-label text-end text-white">Tipo de usuario</label>
            <div class="col-4">
                <select class="form-select" id="type-field" formControlName="rol">
                    <option *ngFor="let option of typesUsers"
                        [value]="option.value">
                            {{ option.name }}
                    </option>
                </select>
                <span class="ps-2" *ngIf="isValidField('rol')">
                    Error en rol
                </span>
            </div>
        </div>
    </form>
    <div class="d-flex justify-content-center mt-5 py-2" >
        <button 
            (click)="onCancel()"
            class="btn btn-danger space-btns">
                Cancelar
        </button>
        <button 
            (click)="onSubmit()"
            type='submit'
            [disabled]="userForm.invalid || !hasFormChanges || isLoading"
            class="btn btn-primary">
                <span *ngIf="!isLoading; else update">
                    Aceptar
                </span>
                <ng-template #update>
                    Actualizando ...
                </ng-template>
                
        </button>
    </div>
</section>

<message-box
    *ngIf="isShowMessage"
    [message]="message"
/>
